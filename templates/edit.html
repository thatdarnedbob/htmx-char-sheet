{% extends 'layout.html' %}

{% block content %}

<form action="/characters/{{ character.id }}/edit" method="post">
    <fieldset>
        <legend>Character Values</legend>
            <p>
                <label for="gift">Gift</label>
                <input  name="gift"
                        id="gift"
                        type="text"
                        placeholder="Gift"
                        value="{{ character.gift }}">
                <span class="error">
                    {{ character.errors['gift'] }}
                </span>
            </p>
            <p>
                <label for="name">Name</label>
                <input  name="name"
                        id="name"
                        type="text"
                        hx-get="/characters/{{ character.id }}/name"
                        hx-target="next .error"
                        hx-trigger="change, keyup changed delay:250ms"
                        placeholder="Name"
                        value="{{ character.name or ''}}">
                <span class="error">{{ character.errors['name'] }}</span>
            </p>
            <p>
                <label for="caste">Caste</label>
                <input  name="caste"
                        id="caste"
                        type="text"
                        placeholder="caste"
                        value="{{ character.caste }}">
                <span class="error">{{ character.errors['caste'] }}</span>
            </p>
            <p>
                <label for="descriptor">Descriptor</label>
                <input  name="descriptor"
                        id="descriptor"
                        type="text"
                        placeholder="Descriptor"
                        value="{{ character.descriptor }}">
                <span class="error">{{ character.errors['descriptor'] }}</span>
            </p>
        <button>Save</button>
    </fieldset>
</form>

<button hx-delete="/characters/{{ character.id }}"
        hx-push-url="true"
        hx-confirm="Actually delete this character?"
        hx-target="body"> Delete Character</button>

<p>
    <a href="/characters">Back</a>
</p>

{% endblock %}